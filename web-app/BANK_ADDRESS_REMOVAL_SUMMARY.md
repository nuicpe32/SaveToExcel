# ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏Ç‡∏≤‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏≤‡∏£‡∏≤‡∏á bank_accounts

**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:** 1 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568  
**‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô:** v3.0.1  
**‡∏ú‡∏π‡πâ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£:** System Migration

---

## üéØ ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå

‡∏•‡∏ö‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö **‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£** ‡πÅ‡∏•‡∏∞ **‡∏™‡∏≤‡∏Ç‡∏≤** ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏≤‡∏£‡∏≤‡∏á `bank_accounts` ‡πÄ‡∏û‡∏£‡∏≤‡∏∞:
1. ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡∏≤‡∏Ç‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
2. ‡∏™‡πà‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÑ‡∏õ‡∏ó‡∏µ‡πà **‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô**
3. ‡∏î‡∏∂‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏≤‡∏Å‡∏ï‡∏≤‡∏£‡∏≤‡∏á `banks` (Master Data) ‡πÅ‡∏ó‡∏ô
4. ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

---

## üìã ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ó‡∏µ‡πà‡∏•‡∏ö‡∏≠‡∏≠‡∏Å (9 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå)

| ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå | ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏• |
|---------|--------|
| `bank_branch` | ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡∏≤‡∏Ç‡∏≤ ‡∏™‡πà‡∏á‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà |
| `bank_address` | ‡πÉ‡∏ä‡πâ‡∏à‡∏≤‡∏Å `banks.bank_address` |
| `soi` | ‡πÉ‡∏ä‡πâ‡∏à‡∏≤‡∏Å `banks.soi` |
| `moo` | ‡πÉ‡∏ä‡πâ‡∏à‡∏≤‡∏Å `banks.moo` |
| `road` | ‡πÉ‡∏ä‡πâ‡∏à‡∏≤‡∏Å `banks.road` |
| `sub_district` | ‡πÉ‡∏ä‡πâ‡∏à‡∏≤‡∏Å `banks.sub_district` |
| `district` | ‡πÉ‡∏ä‡πâ‡∏à‡∏≤‡∏Å `banks.district` |
| `province` | ‡πÉ‡∏ä‡πâ‡∏à‡∏≤‡∏Å `banks.province` |
| `postal_code` | ‡πÉ‡∏ä‡πâ‡∏à‡∏≤‡∏Å `banks.postal_code` |

---

## üìÅ ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

### 1. Database Migration
- ‚úÖ `migrations/007_remove_bank_address_fields.sql`
  - ALTER TABLE DROP COLUMN ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á 9 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå
  - ‡∏°‡∏µ Rollback script (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö)

### 2. Backend - Model
- ‚úÖ `app/models/bank_account.py`
  - ‡∏•‡∏ö‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏ó‡∏±‡πâ‡∏á 9 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå
  - ‡πÄ‡∏û‡∏¥‡πà‡∏° comment ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢

### 3. Backend - Schema
- ‚úÖ `app/schemas/bank_account.py`
  - ‡∏•‡∏ö‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏à‡∏≤‡∏Å `BankAccountBase`
  - ‡∏•‡∏ö‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏à‡∏≤‡∏Å `BankAccountUpdate`
  - ‡πÄ‡∏û‡∏¥‡πà‡∏° comment ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢

### 4. Frontend - Form
- ‚úÖ `components/BankAccountFormModal.tsx`
  - ‡∏•‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Å‡∏£‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
  - ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô: "‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏∞‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥"

### 5. Frontend - Display
- ‚úÖ `pages/BankAccountsPage.tsx`
  - ‡∏•‡∏ö interface fields ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà
  - ‡∏•‡∏ö Tab "‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£" ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Drawer
  - ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ó‡∏ô

### 6. Frontend - Dashboard
- ‚úÖ `pages/DashboardPage.tsx`
  - ‡∏•‡∏ö interface fields: `bank_branch`, `bank_address`

---

## üîÑ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà

### Before (‡πÄ‡∏Å‡πà‡∏≤ - ‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô)
```
bank_accounts
‚îú‚îÄ‚îÄ bank_id (FK) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îú‚îÄ‚îÄ bank_name               ‚îÇ
‚îú‚îÄ‚îÄ bank_branch  ‚ùå         ‚îÇ
‚îú‚îÄ‚îÄ bank_address ‚ùå         ‚îÇ
‚îú‚îÄ‚îÄ soi          ‚ùå         ‚îÇ
‚îú‚îÄ‚îÄ moo          ‚ùå         ‚îÇ
‚îú‚îÄ‚îÄ road         ‚ùå         ‚îÇ
‚îú‚îÄ‚îÄ sub_district ‚ùå         ‚îÇ
‚îú‚îÄ‚îÄ district     ‚ùå         ‚îÇ
‚îú‚îÄ‚îÄ province     ‚ùå         ‚îÇ
‚îî‚îÄ‚îÄ postal_code  ‚ùå         ‚îÇ
                            ‚îÇ
banks                       ‚îÇ
‚îú‚îÄ‚îÄ id ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îú‚îÄ‚îÄ bank_name
‚îú‚îÄ‚îÄ bank_address  ‚úÖ
‚îú‚îÄ‚îÄ soi           ‚úÖ
‚îú‚îÄ‚îÄ moo           ‚úÖ
‚îî‚îÄ‚îÄ ... (‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏ï‡πá‡∏°)
```

### After (‡πÉ‡∏´‡∏°‡πà - ‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô)
```
bank_accounts
‚îú‚îÄ‚îÄ bank_id (FK) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îú‚îÄ‚îÄ bank_name               ‚îÇ
‚îî‚îÄ‚îÄ ... (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ç‡∏ä‡∏µ)        ‚îÇ
                            ‚îÇ
banks                       ‚îÇ
‚îú‚îÄ‚îÄ id ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îú‚îÄ‚îÄ bank_name
‚îú‚îÄ‚îÄ bank_address  ‚úÖ (‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ)
‚îî‚îÄ‚îÄ ... (‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà)
```

---

## üöÄ ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å Migration

### ‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£

**‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å:**
```json
{
  "criminal_case_id": 123,
  "bank_name": "‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û",
  "account_number": "1234567890",
  "account_name": "‡∏ô‡∏≤‡∏¢‡∏ó‡∏î‡∏™‡∏≠‡∏ö",
  "time_period": "‡∏°.‡∏Ñ. - ‡∏°‡∏µ.‡∏Ñ. 2568"
}
```

**‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å:**
- ‚ùå ‡∏™‡∏≤‡∏Ç‡∏≤ (bank_branch)
- ‚ùå ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£ (bank_address, soi, moo, etc.)

**‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞:**
1. ‡∏î‡∏∂‡∏á `bank_id` ‡∏à‡∏≤‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£
2. ‡∏î‡∏∂‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏à‡∏≤‡∏Å `banks` table
3. ‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏±‡πâ‡∏ô‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£

---

## üìä ‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà

### SQL Query (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á)
```sql
-- ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£
SELECT 
    ba.id,
    ba.account_number,
    ba.account_name,
    ba.bank_name,
    -- ‡∏î‡∏∂‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏≤‡∏Å banks
    b.bank_address,
    b.soi,
    b.moo,
    b.road,
    b.sub_district,
    b.district,
    b.province,
    b.postal_code
FROM bank_accounts ba
LEFT JOIN banks b ON ba.bank_id = b.id
WHERE ba.id = ?;
```

### Backend (Python/SQLAlchemy)
```python
# ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏£‡πâ‡∏≠‡∏° relationship
bank_account = db.query(BankAccount).filter(BankAccount.id == id).first()

# ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏≤‡∏Å banks table
if bank_account.bank:
    address = bank_account.bank.bank_address
    district = bank_account.bank.district
    province = bank_account.bank.province
```

---

## ‚úÖ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£ Deploy

### 1. ‡∏£‡∏±‡∏ô Migration Script
```bash
# ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô database container
docker-compose exec postgres psql -U user -d criminal_case_db

# ‡∏£‡∏±‡∏ô migration
\i /path/to/migrations/007_remove_bank_address_fields.sql

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö
\d bank_accounts
```

### 2. Restart Backend
```bash
docker-compose restart backend
```

### 3. Rebuild Frontend (‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)
```bash
docker-compose restart frontend
```

### 4. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö
```bash
# Test API
curl http://localhost:8000/api/v1/bank-accounts/

# Test Frontend
# ‡πÄ‡∏õ‡∏¥‡∏î http://localhost:3001/bank-accounts
```

---

## üß™ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### Test Cases

#### ‚úÖ Test 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÉ‡∏´‡∏°‡πà
- ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏î‡πâ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

#### ‚úÖ Test 2: ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ö‡∏±‡∏ç‡∏ä‡∏µ
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏™‡∏î‡∏á
- ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà

#### ‚úÖ Test 3: ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ö‡∏±‡∏ç‡∏ä‡∏µ
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏≠‡∏Å
- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥

#### ‚úÖ Test 4: ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà
- Query ‡∏î‡πâ‡∏ß‡∏¢ JOIN ‡∏Å‡∏±‡∏ö banks table
- ‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô

---

## üîß Rollback (‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)

### ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö:

```sql
-- Restore columns
ALTER TABLE bank_accounts ADD COLUMN bank_branch VARCHAR;
ALTER TABLE bank_accounts ADD COLUMN bank_address TEXT;
ALTER TABLE bank_accounts ADD COLUMN soi VARCHAR;
ALTER TABLE bank_accounts ADD COLUMN moo VARCHAR;
ALTER TABLE bank_accounts ADD COLUMN road VARCHAR;
ALTER TABLE bank_accounts ADD COLUMN sub_district VARCHAR;
ALTER TABLE bank_accounts ADD COLUMN district VARCHAR;
ALTER TABLE bank_accounts ADD COLUMN province VARCHAR;
ALTER TABLE bank_accounts ADD COLUMN postal_code VARCHAR;
```

‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏∑‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏à‡∏≤‡∏Å Git:
```bash
git checkout HEAD~1 -- backend/app/models/bank_account.py
git checkout HEAD~1 -- backend/app/schemas/bank_account.py
git checkout HEAD~1 -- frontend/src/components/BankAccountFormModal.tsx
git checkout HEAD~1 -- frontend/src/pages/BankAccountsPage.tsx
```

---

## üìù Notes

### ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á
1. ‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ `bank_branch` ‡πÅ‡∏•‡∏∞‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏∞‡∏´‡∏≤‡∏¢‡πÑ‡∏õ (‡∏•‡∏ö‡∏ñ‡∏≤‡∏ß‡∏£)
2. ‚ö†Ô∏è ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô columns ‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ ‡∏Ñ‡∏ß‡∏£ backup ‡∏Å‡πà‡∏≠‡∏ô
3. ‚ö†Ô∏è ‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤ `banks` table ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏Å‡πà‡∏≠‡∏ô

### Backup ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤ (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
```sql
-- ‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡πà‡∏≠‡∏ô migration
CREATE TABLE bank_accounts_backup AS 
SELECT 
    id, 
    bank_branch, 
    bank_address, 
    soi, moo, road, 
    sub_district, district, province, postal_code
FROM bank_accounts;
```

---

## ‚ú® ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö

1. ‚úÖ **‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô** - ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏Å‡πá‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á `banks`
2. ‚úÖ **‡∏á‡πà‡∏≤‡∏¢‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤** - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏î‡∏µ
3. ‚úÖ **‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà** - ‡∏•‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á `bank_accounts`
4. ‚úÖ **‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô** - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
5. ‚úÖ **‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á** - ‡∏™‡πà‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÑ‡∏õ‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

---

**Status:** ‚úÖ Ready to Deploy  
**Estimated Migration Time:** < 5 ‡∏ô‡∏≤‡∏ó‡∏µ  
**Rollback Available:** ‚úÖ Yes

