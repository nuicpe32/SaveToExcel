# CHANGELOG - Criminal Case Management System

## Version 3.4.0 - 13 р╕Хр╕╕р╕ер╕▓р╕Др╕б 2568

### ЁЯОЙ New Features

#### ЁЯУ▒ р╕гр╕░р╕Ър╕Ър╕лр╕бр╕▓р╕вр╣Ар╕ер╕Вр╣Вр╕Чр╕гр╕ир╕▒р╕Юр╕Чр╣М (Telco Mobile)
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б Tab "р╕лр╕бр╕▓р╕вр╣Ар╕ер╕Вр╣Вр╕Чр╕гр╕ир╕▒р╕Юр╕Чр╣М" р╣Гр╕Щ Dashboard
- тЬЕ Modal р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Юр╕┤р╣Ир╕б/р╣Бр╕Бр╣Йр╣Др╕В р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╕бр╕▓р╕вр╣Ар╕ер╕Вр╣Вр╕Чр╕гр╕ир╕▒р╕Юр╕Чр╣М
- тЬЕ Dropdown р╕Ьр╕╣р╣Йр╣Гр╕лр╣Йр╕Ър╕гр╕┤р╕Бр╕▓р╕г (AIS, True, NT) р╕Ир╕▓р╕Б Master Data
- тЬЕ р╕Хр╕▓р╕гр╕▓р╕З `telco_mobile_accounts` р╕Юр╕гр╣Йр╕нр╕б Foreign Keys
- тЬЕ API Endpoints: CRUD operations
- тЬЕ р╕лр╕бр╕▓р╕вр╣Ар╕гр╕╡р╕вр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Вр╕Чр╕гр╕ир╕▒р╕Юр╕Чр╣М (HTML) - р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Ар╕Йр╕Юр╕▓р╕░
- тЬЕ р╕Лр╕нр╕Зр╕лр╕бр╕▓р╕вр╣Ар╕гр╕╡р╕вр╕Бр╣Вр╕Чр╕гр╕ир╕▒р╕Юр╕Чр╣М (HTML) - р╕Фр╕╢р╕Зр╕Чр╕╡р╣Ир╕нр╕вр╕╣р╣Ир╕Ир╕▓р╕Б DB

#### ЁЯМР р╕гр╕░р╕Ър╕Ъ IP Address (Telco Internet)
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б Tab "IP Address" р╣Гр╕Щ Dashboard
- тЬЕ Modal р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Юр╕┤р╣Ир╕б/р╣Бр╕Бр╣Йр╣Др╕В р╕Вр╣Йр╕нр╕бр╕╣р╕е IP Address
- тЬЕ Dropdown р╕Ьр╕╣р╣Йр╣Гр╕лр╣Йр╕Ър╕гр╕┤р╕Бр╕▓р╕г (TRUE Online, AIS Fibre, 3BB, NT Broadband)
- тЬЕ р╕Хр╕▓р╕гр╕▓р╕З `telco_internet_accounts` р╕Юр╕гр╣Йр╕нр╕б Foreign Keys
- тЬЕ API Endpoints: CRUD operations
- тЬЕ р╕лр╕бр╕▓р╕вр╣Ар╕гр╕╡р╕вр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕е IP Address (HTML) - р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Ар╕Йр╕Юр╕▓р╕░
- тЬЕ р╕Лр╕нр╕Зр╕лр╕бр╕▓р╕вр╣Ар╕гр╕╡р╕вр╕Б IP Address (HTML) - р╕Фр╕╢р╕Зр╕Чр╕╡р╣Ир╕нр╕вр╕╣р╣Ир╕Ир╕▓р╕Б DB
- тЬЕ р╕Яр╕┤р╕ер╕Фр╣М `datetime_used` р╣Бр╕Чр╕Щ `time_period` р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Бр╣Зр╕Ър╕зр╕▒р╕Щр╣Ар╕зр╕ер╕▓р╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### ЁЯФз Technical Improvements

#### Database
- тЬЕ Migration 026: р╕кр╕гр╣Йр╕▓р╕Зр╕Хр╕▓р╕гр╕▓р╕З `telco_mobile_accounts`
- тЬЕ Migration 027: р╕кр╕гр╣Йр╕▓р╕Зр╕Хр╕▓р╕гр╕▓р╕З `telco_internet_accounts`
- тЬЕ Migration 028: р╣Бр╕Бр╣Йр╣Др╕В `telco_internet_accounts.time_period` тЖТ `datetime_used`
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б Relationships р╣Гр╕Щ `criminal_case`, `telco_mobile`, `telco_internet`

#### Backend API
- тЬЕ `/api/v1/telco-mobile-accounts/` - CRUD operations
- тЬЕ `/api/v1/telco-internet-accounts/` - CRUD operations
- тЬЕ `/api/v1/documents/telco-mobile-summons/{id}` - р╕лр╕бр╕▓р╕вр╣Ар╕гр╕╡р╕вр╕Бр╣Вр╕Чр╕гр╕ир╕▒р╕Юр╕Чр╣М
- тЬЕ `/api/v1/documents/telco-mobile-envelope/{id}` - р╕Лр╕нр╕Зр╕лр╕бр╕▓р╕вр╣Ар╕гр╕╡р╕вр╕Бр╣Вр╕Чр╕гр╕ир╕▒р╕Юр╕Чр╣М
- тЬЕ `/api/v1/documents/telco-internet-summons/{id}` - р╕лр╕бр╕▓р╕вр╣Ар╕гр╕╡р╕вр╕Б IP Address
- тЬЕ `/api/v1/documents/telco-internet-envelope/{id}` - р╕Лр╕нр╕Зр╕лр╕бр╕▓р╕вр╣Ар╕гр╕╡р╕вр╕Б IP Address

#### Frontend Components
- тЬЕ `TelcoMobileAccountFormModal.tsx` - Modal р╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Вр╕Чр╕гр╕ир╕▒р╕Юр╕Чр╣М
- тЬЕ `TelcoInternetAccountFormModal.tsx` - Modal р╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕е IP Address
- тЬЕ р╕нр╕▒р╕Юр╣Ар╕Фр╕Х `DashboardPage.tsx` - р╣Ар╕Юр╕┤р╣Ир╕б 2 Tabs р╣Гр╕лр╕бр╣И
- тЬЕ State Management р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕лр╕бр╣И
- тЬЕ Handlers р╕кр╕│р╕лр╕гр╕▒р╕Ъ CRUD operations

#### Document Generation
- тЬЕ `TelcoMobileSummonsGenerator` - р╕кр╕гр╣Йр╕▓р╕Зр╕лр╕бр╕▓р╕вр╣Ар╕гр╕╡р╕вр╕Б/р╕Лр╕нр╕Зр╣Вр╕Чр╕гр╕ир╕▒р╕Юр╕Чр╣М
- тЬЕ `TelcoInternetSummonsGenerator` - р╕кр╕гр╣Йр╕▓р╕Зр╕лр╕бр╕▓р╕вр╣Ар╕гр╕╡р╕вр╕Б/р╕Лр╕нр╕З IP Address
- тЬЕ Thai Date Utils - р╣Ар╕Юр╕┤р╣Ир╕бр╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ `format_datetime_to_thai()`

### ЁЯРЫ Bug Fixes
- тЬЕ р╣Бр╕Бр╣Йр╣Др╕В Vite Proxy: `criminal-case-backend` тЖТ `backend`
- тЬЕ р╣Бр╕Бр╣Йр╣Др╕В Dropdown р╕Ьр╕╣р╣Йр╣Гр╕лр╣Йр╕Ър╕гр╕┤р╕Бр╕▓р╕г: р╣Ар╕Юр╕┤р╣Ир╕б trailing slash `/telco-mobile/`
- тЬЕ р╣Бр╕Бр╣Йр╣Др╕В Non-Bank Summons: Indentation error
- тЬЕ р╣Бр╕Бр╣Йр╣Др╕В р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕лр╣Йр╕Ър╕гр╕┤р╕Бр╕▓р╕г: р╣Гр╕Кр╣Й `company_name` (р╕Кр╕╖р╣Ир╕нр╣Ар╕Хр╣Зр╕б) р╣Гр╕Щр╣Ар╕гр╕╡р╕вр╕Щр╣Бр╕ер╕░р╕Лр╕нр╕З

### ЁЯУД Document Content Updates

#### р╕лр╕бр╕▓р╕вр╣Ар╕гр╕╡р╕вр╕Бр╣Вр╕Чр╕гр╕ир╕▒р╕Юр╕Чр╣М:
- тЬЕ р╣Ар╕гр╕╖р╣Ир╕нр╕З: "р╕Вр╕нр╣Гр╕лр╣Йр╕Ир╕▒р╕Фр╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Вр╕нр╕Зр╕лр╕бр╕▓р╕вр╣Ар╕ер╕Вр╣Вр╕Чр╕гр╕ир╕▒р╕Юр╕Чр╣М {phone_number}"
- тЬЕ р╣Ар╕гр╕╡р╕вр╕Щ: "р╕Бр╕гр╕гр╕бр╕Бр╕▓р╕гр╕Ьр╕╣р╣Йр╕Ир╕▒р╕Фр╕Бр╕▓р╕г{company_name}"
- тЬЕ р╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓: р╕Ыр╕гр╕▒р╕Ър╣Бр╕Бр╣Йр╣Др╕Вр╣Гр╕лр╣Йр╣Ар╕лр╕бр╕▓р╕░р╕кр╕бр╕Бр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Вр╕Чр╕гр╕ир╕▒р╕Юр╕Чр╣М
- тЬЕ р╕Хр╕▓р╕гр╕▓р╕З: р╕Ьр╕╣р╣Йр╣Гр╕лр╣Йр╕Ър╕гр╕┤р╕Бр╕▓р╕г | р╕лр╕бр╕▓р╕вр╣Ар╕ер╕Вр╣Вр╕Чр╕гр╕ир╕▒р╕Юр╕Чр╣М | р╕Кр╣Ир╕зр╕Зр╣Ар╕зр╕ер╕▓р╕Вр╕нр╕Вр╣Йр╕нр╕бр╕╣р╕е
- тЬЕ р╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Ар╕нр╕Бр╕кр╕▓р╕г: 5 р╕Вр╣Йр╕нр╣Ар╕Йр╕Юр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Вр╕Чр╕гр╕ир╕▒р╕Юр╕Чр╣М

#### р╕лр╕бр╕▓р╕вр╣Ар╕гр╕╡р╕вр╕Б IP Address:
- тЬЕ р╣Ар╕гр╕╖р╣Ир╕нр╕З: "р╕Вр╕нр╣Гр╕лр╣Йр╕Ир╕▒р╕Фр╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Вр╕нр╕З IP Address {ip_address}"
- тЬЕ р╣Ар╕гр╕╡р╕вр╕Щ: "р╕Бр╕гр╕гр╕бр╕Бр╕▓р╕гр╕Ьр╕╣р╣Йр╕Ир╕▒р╕Фр╕Бр╕▓р╕г{company_name}"
- тЬЕ р╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓: р╕Ыр╕гр╕▒р╕Ър╣Бр╕Бр╣Йр╣Др╕Вр╣Гр╕лр╣Йр╣Ар╕лр╕бр╕▓р╕░р╕кр╕бр╕Бр╕▒р╕Ъ IP Address
- тЬЕ р╕Хр╕▓р╕гр╕▓р╕З: р╕Ьр╕╣р╣Йр╣Гр╕лр╣Йр╕Ър╕гр╕┤р╕Бр╕▓р╕г | IP Address | р╕зр╕▒р╕Щр╣Ар╕зр╕ер╕▓р╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
- тЬЕ р╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Ар╕нр╕Бр╕кр╕▓р╕г: 4 р╕Вр╣Йр╕нр╣Ар╕Йр╕Юр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ъ IP Address

#### р╕Лр╕нр╕Зр╕лр╕бр╕▓р╕вр╣Ар╕гр╕╡р╕вр╕Б:
- тЬЕ р╣Гр╕Кр╣Й `company_name` (р╕Кр╕╖р╣Ир╕нр╣Ар╕Хр╣Зр╕б) р╕Ър╕гр╕гр╕Чр╕▒р╕Фр╣Бр╕гр╕Б
- тЬЕ р╕Фр╕╢р╕Зр╕Чр╕╡р╣Ир╕нр╕вр╕╣р╣Ир╕Ир╕▓р╕Б Master Data Tables
- тЬЕ р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Ар╕Фр╕╡р╕вр╕зр╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕Шр╕Щр╕▓р╕Др╕▓р╕г

### ЁЯОп UI/UX Enhancements
- тЬЕ 2 Tabs р╣Гр╕лр╕бр╣Ир╣Гр╕Щр╕ер╕│р╕Фр╕▒р╕Ър╕Чр╕╡р╣Ир╣Ар╕лр╕бр╕▓р╕░р╕кр╕б (р╕гр╕░р╕лр╕зр╣Ир╕▓р╕З Payment Gateway р╣Бр╕ер╕░ р╕Ьр╕╣р╣Йр╕Хр╣Йр╕нр╕Зр╕лр╕▓)
- тЬЕ Form Validation р╣Бр╕ер╕░ Error Handling
- тЬЕ Date/DateTime Pickers р╕Юр╕гр╣Йр╕нр╕бр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Др╕Чр╕в
- тЬЕ р╕кр╕Цр╕▓р╕Щр╕░р╕Хр╕нр╕Ър╕Бр╕ер╕▒р╕Ъ (р╣Ар╕Вр╕╡р╕вр╕з/р╣Бр╕Фр╕З) р╕Юр╕гр╣Йр╕нр╕бр╕Щр╕▒р╕Ър╕зр╕▒р╕Щ
- тЬЕ р╕Ыр╕╕р╣Ир╕бр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Др╕гр╕Ър╕Кр╕╕р╕Ф (р╣Ар╕Юр╕┤р╣Ир╕б/р╣Бр╕Бр╣Йр╣Др╕В/р╕ер╕Ъ/р╕Ыр╕гр╕┤р╣Йр╕Щ)

---

## ЁЯУЛ р╕ер╕│р╕Фр╕▒р╕Ъ Tabs р╣Гр╕Щ Dashboard (8 Tabs)

1. р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕▒р╣Ир╕зр╣Др╕Ы
2. р╕Вр╣Йр╕нр╕бр╕╣р╕е CFR
3. р╕Ър╕▒р╕Нр╕Кр╕╡р╕Шр╕Щр╕▓р╕Др╕▓р╕гр╕Чр╕╡р╣Ир╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Вр╣Йр╕нр╕З ЁЯПж
4. Non-Bank ЁЯПк
5. Payment Gateway ЁЯТ│
6. **р╕лр╕бр╕▓р╕вр╣Ар╕ер╕Вр╣Вр╕Чр╕гр╕ир╕▒р╕Юр╕Чр╣М ЁЯУ▒** тнР **р╣Гр╕лр╕бр╣И!**
7. **IP Address ЁЯМР** тнР **р╣Гр╕лр╕бр╣И!**
8. р╕Ьр╕╣р╣Йр╕Хр╣Йр╕нр╕Зр╕лр╕▓р╕Чр╕╡р╣Ир╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Вр╣Йр╕нр╕З ЁЯСд

---

## ЁЯЧДя╕П Database Schema

### telco_mobile_accounts (17 columns)
- Primary Key: `id`
- Foreign Keys: `criminal_case_id`, `telco_mobile_id`
- Key Fields: `provider_name`, `phone_number`, `time_period`
- Status: `reply_status`, `days_since_sent`, `status`

### telco_internet_accounts (17 columns)
- Primary Key: `id`
- Foreign Keys: `criminal_case_id`, `telco_internet_id`
- Key Fields: `provider_name`, `ip_address`, `datetime_used`
- Status: `reply_status`, `days_since_sent`, `status`

---

## ЁЯУК Master Data

### telco_mobile (3 providers)
1. AIS - р╕Ър╕гр╕┤р╕йр╕▒р╕Ч р╣Бр╕нр╕Фр╕зр╕▓р╕Щр╕Лр╣М р╕нр╕┤р╕Щр╣Вр╕Яр╕гр╣М р╣Ар╕Лр╕нр╕гр╣Мр╕зр╕┤р╕к р╕Ир╕│р╕Бр╕▒р╕Ф (р╕бр╕лр╕▓р╕Кр╕Щ)
2. True - р╕Ър╕гр╕┤р╕йр╕▒р╕Ч р╕Чр╕гр╕╣ р╕Др╕нр╕гр╣Мр╕Ыр╕нр╣Ар╕гр╕Кр╕▒р╣Ир╕Щ р╕Ир╕│р╕Бр╕▒р╕Ф (р╕бр╕лр╕▓р╕Кр╕Щ)
3. NT - р╕Ър╕гр╕┤р╕йр╕▒р╕Ч р╣Вр╕Чр╕гр╕Др╕бр╕Щр╕▓р╕Др╕бр╣Бр╕лр╣Ир╕Зр╕Кр╕▓р╕Хр╕┤ р╕Ир╕│р╕Бр╕▒р╕Ф (р╕бр╕лр╕▓р╕Кр╕Щ)

### telco_internet (4 providers)
1. TRUE Online - р╕Ър╕гр╕┤р╕йр╕▒р╕Ч р╕Чр╕гр╕╣ р╕Др╕нр╕гр╣Мр╕Ыр╕нр╣Ар╕гр╕Кр╕▒р╣Ир╕Щ р╕Ир╕│р╕Бр╕▒р╕Ф (р╕бр╕лр╕▓р╕Кр╕Щ)
2. AIS Fibre - р╕Ър╕гр╕┤р╕йр╕▒р╕Ч р╣Бр╕нр╕Фр╕зр╕▓р╕Щр╕Лр╣М р╕нр╕┤р╕Щр╣Вр╕Яр╕гр╣М р╣Ар╕Лр╕нр╕гр╣Мр╕зр╕┤р╕к р╕Ир╕│р╕Бр╕▒р╕Ф (р╕бр╕лр╕▓р╕Кр╕Щ)
3. 3BB - р╕Ър╕гр╕┤р╕йр╕▒р╕Ч р╕Чр╕гр╕┤р╕Ыр╣Ар╕Ыр╕┤р╕ер╕Чр╕╡ р╕Ър╕гр╕нр╕Фр╣Бр╕Ър╕Щр╕Фр╣М р╕Ир╕│р╕Бр╕▒р╕Ф (р╕бр╕лр╕▓р╕Кр╕Щ)
4. NT Broadband - р╕Ър╕гр╕┤р╕йр╕▒р╕Ч р╣Вр╕Чр╕гр╕Др╕бр╕Щр╕▓р╕Др╕бр╣Бр╕лр╣Ир╕Зр╕Кр╕▓р╕Хр╕┤ р╕Ир╕│р╕Бр╕▒р╕Ф (р╕бр╕лр╕▓р╕Кр╕Щ)

---

## ЁЯЫбя╕П Backward Compatibility
- тЬЕ р╕гр╕░р╕Ър╕Ър╣Ар╕Фр╕┤р╕бр╕Чр╕│р╕Зр╕▓р╕Щр╕Ыр╕Бр╕Хр╕┤ 100%
- тЬЕ р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Фр╕┤р╕бр╣Др╕бр╣Ир╕Бр╕гр╕░р╕Чр╕Ъ
- тЬЕ Non-Bank р╣Бр╕ер╕░ Payment Gateway р╕Бр╕ер╕▒р╕Ър╕бр╕▓р╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╕Ыр╕Бр╕Хр╕┤
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Йр╕Юр╕▓р╕░р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╣Гр╕лр╕бр╣И

---

## ЁЯОп Breaking Changes
- тЭМ р╣Др╕бр╣Ир╕бр╕╡ Breaking Changes
- тЬЕ р╣Ар╕Ыр╣Зр╕Щ Additive Changes р╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ
