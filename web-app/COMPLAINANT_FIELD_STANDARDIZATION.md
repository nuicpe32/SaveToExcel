# ‡∏Å‡∏≤‡∏£‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢: ‡πÉ‡∏ä‡πâ `complainant` ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å

**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:** 9 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568  
**Version:** 3.1.2

---

## üìã ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á

### **‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡πÉ‡∏´‡∏°‡πà:**
‚úÖ **‡πÉ‡∏ä‡πâ `complainant` ‡πÄ‡∏õ‡πá‡∏ô‡∏ü‡∏¥‡∏•‡∏î‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö "‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢/‡∏ú‡∏π‡πâ‡∏Å‡∏•‡πà‡∏≤‡∏ß‡∏´‡∏≤/‡∏ú‡∏π‡πâ‡∏£‡πâ‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏Ç‡πå"**

### **‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:**
1. ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°‡∏°‡∏µ 2 ‡∏ü‡∏¥‡∏•‡∏î‡πå (`complainant` ‡πÅ‡∏•‡∏∞ `victim_name`) ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏™‡∏±‡∏ö‡∏™‡∏ô
2. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô `victim_name` ‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡πá‡∏ô "‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Ñ‡∏î‡∏µ" (‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á)
3. `complainant` ‡πÄ‡∏õ‡πá‡∏ô required field ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏Å‡∏ß‡πà‡∏≤

---

## üîÑ ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö

### **1. Backend (API)**

#### ‡πÑ‡∏ü‡∏•‡πå: `web-app/backend/app/api/v1/documents.py`

**‡πÄ‡∏î‡∏¥‡∏°:**
```python
# ‡πÉ‡∏ä‡πâ victim_name ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç
victim_name = criminal_case.victim_name
if victim_name and victim_name.strip().lower() == '‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Ñ‡∏î‡∏µ':
    victim_name = criminal_case.complainant
if not victim_name or victim_name.strip() == '':
    victim_name = criminal_case.complainant or '‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢'
```

**‡πÉ‡∏´‡∏°‡πà:**
```python
# ‡πÉ‡∏ä‡πâ complainant ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
complainant_name = criminal_case.complainant or '‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢'

case_data = {
    'victim_name': complainant_name,  # backward compatibility
    'complainant': complainant_name,
}
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**
- üìÑ ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£ ‚Üí ‡πÉ‡∏ä‡πâ `complainant`
- üìÑ ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ú‡∏π‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏≤ ‚Üí ‡πÉ‡∏ä‡πâ `complainant`
- üìÑ ‡∏ã‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏Å ‚Üí ‡πÉ‡∏ä‡πâ `complainant`

---

### **2. Frontend (UI)**

#### ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:
1. `web-app/frontend/src/pages/CriminalCaseDetailPage.tsx`
2. `web-app/frontend/src/pages/BankAccountsPage.tsx`
3. `web-app/frontend/src/pages/SuspectsPage.tsx`

**‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á:**

| ‡πÄ‡∏î‡∏¥‡∏° | ‡πÉ‡∏´‡∏°‡πà |
|------|------|
| ‡πÅ‡∏™‡∏î‡∏á 2 ‡∏ü‡∏¥‡∏•‡∏î‡πå:<br>- ‡∏ú‡∏π‡πâ‡∏£‡πâ‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏Ç‡πå<br>- ‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢ | ‡πÅ‡∏™‡∏î‡∏á 1 ‡∏ü‡∏¥‡∏•‡∏î‡πå:<br>- **‡∏ú‡∏π‡πâ‡∏£‡πâ‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏Ç‡πå/‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢** |
| `criminal_case.complainant \|\| criminal_case.victim_name` | `criminal_case.complainant` |

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î:**

**‡πÄ‡∏î‡∏¥‡∏°:**
```tsx
<Descriptions.Item label="‡∏ú‡∏π‡πâ‡∏£‡πâ‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏Ç‡πå">
  {criminalCase.complainant}
</Descriptions.Item>
<Descriptions.Item label="‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢">
  {criminalCase.victim_name}
</Descriptions.Item>
```

**‡πÉ‡∏´‡∏°‡πà:**
```tsx
<Descriptions.Item label="‡∏ú‡∏π‡πâ‡∏£‡πâ‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏Ç‡πå/‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢">
  {criminalCase.complainant}
</Descriptions.Item>
```

---

### **3. Database Migration**

#### ‡πÑ‡∏ü‡∏•‡πå: `web-app/backend/migrations/010_sync_complainant_victim_name.sql`

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£ Sync ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:**

1. **Copy victim_name ‚Üí complainant** (‡∏ñ‡πâ‡∏≤ complainant ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏ß‡πà‡∏≤‡∏á)
   ```sql
   UPDATE criminal_cases
   SET complainant = victim_name
   WHERE (complainant IS NULL OR complainant = '')
     AND victim_name IS NOT NULL
     AND victim_name != '‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Ñ‡∏î‡∏µ';
   ```

2. **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç victim_name ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô "‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Ñ‡∏î‡∏µ"**
   ```sql
   UPDATE criminal_cases
   SET victim_name = NULL
   WHERE victim_name = '‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Ñ‡∏î‡∏µ';
   ```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:**
- ‚úÖ ‡πÑ‡∏°‡πà‡∏•‡∏ö‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå `victim_name` (‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠ backward compatibility)
- ‚úÖ ‡πÑ‡∏°‡πà‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏¥‡∏° (‡πÅ‡∏Ñ‡πà sync ‡πÉ‡∏´‡πâ‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô)
- ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ 100%

---

## üöÄ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£ Deploy

### **1. Backup ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡πà‡∏≠‡∏ô (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç!)**

```bash
cd web-app

# Backup database
TIMESTAMP=$(date +%Y%m%d_%H%M%S)
docker exec criminal-case-db pg_dump -U user -d criminal_case_db -F c -f /tmp/backup_${TIMESTAMP}.dump
docker cp criminal-case-db:/tmp/backup_${TIMESTAMP}.dump ./backup_${TIMESTAMP}.dump
```

### **2. ‡∏£‡∏±‡∏ô Migration**

```bash
# Copy SQL file ‡πÄ‡∏Ç‡πâ‡∏≤ container
docker cp backend/migrations/010_sync_complainant_victim_name.sql criminal-case-db:/tmp/

# ‡∏£‡∏±‡∏ô migration
docker exec criminal-case-db psql -U user -d criminal_case_db -f /tmp/010_sync_complainant_victim_name.sql
```

### **3. Restart Backend**

```bash
# Restart backend ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏Ñ‡πâ‡∏î‡πÉ‡∏´‡∏°‡πà
docker-compose restart backend

# ‡∏£‡∏≠‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
sleep 10

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö logs
docker-compose logs -f backend
```

### **4. Restart Frontend (‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)**

```bash
# ‡∏ñ‡πâ‡∏≤ Hot Reload ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
docker-compose restart frontend

# ‡∏´‡∏£‡∏∑‡∏≠ Hard refresh browser
# Ctrl+Shift+R (Windows/Linux)
# Cmd+Shift+R (Mac)
```

---

## ‚úÖ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### **1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**

```bash
# ‡πÄ‡∏Ç‡πâ‡∏≤ PostgreSQL
docker exec -it criminal-case-db psql -U user -d criminal_case_db

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ complainant ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô
SELECT 
    COUNT(*) FILTER (WHERE complainant IS NOT NULL AND complainant != '') as has_complainant,
    COUNT(*) FILTER (WHERE complainant IS NULL OR complainant = '') as no_complainant,
    COUNT(*) as total
FROM criminal_cases;

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ victim_name = "‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Ñ‡∏î‡∏µ" ‡πÅ‡∏•‡πâ‡∏ß
SELECT COUNT(*) 
FROM criminal_cases 
WHERE victim_name = '‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Ñ‡∏î‡∏µ';

# ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å psql
\q
```

### **2. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö UI**

1. ‚úÖ ‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ñ‡∏î‡∏µ ‚Üí ‡πÄ‡∏´‡πá‡∏ô "‡∏ú‡∏π‡πâ‡∏£‡πâ‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏Ç‡πå/‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢" ‡πÅ‡∏Ñ‡πà 1 ‡∏ü‡∏¥‡∏•‡∏î‡πå
2. ‚úÖ ‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£ ‚Üí Modal ‡πÅ‡∏™‡∏î‡∏á complainant ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
3. ‚úÖ ‡∏´‡∏ô‡πâ‡∏≤‡∏ú‡∏π‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏≤ ‚Üí Modal ‡πÅ‡∏™‡∏î‡∏á complainant ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

### **3. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£**

1. ‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π **"‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£"**
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏Å"**
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏¢‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡∏à‡∏≤‡∏Å `complainant` (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà "‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Ñ‡∏î‡∏µ")

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á:**
```
‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ ‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß ‡πÄ‡∏Å‡∏ß‡∏•‡∏¥‡∏ô ‡∏°‡πà‡∏ß‡∏á‡πÄ‡∏Å‡∏©‡∏° (case id : 6809044200) 
‡πÑ‡∏î‡πâ‡πÅ‡∏à‡πâ‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏Ç‡πå‡∏ï‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏™‡∏≠‡∏ö‡∏™‡∏ß‡∏ô...
```

---

## üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏ü‡∏¥‡∏•‡∏î‡πå‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö

| ‡∏ü‡∏¥‡∏•‡∏î‡πå | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ | ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô | ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ |
|-------|-------|-----------|----------|
| **`complainant`** | ‚úÖ **‡∏´‡∏•‡∏±‡∏Å** | ‡πÉ‡∏ä‡πâ‡∏ó‡∏∏‡∏Å‡∏ó‡∏µ‡πà‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö | ‡∏ú‡∏π‡πâ‡∏£‡πâ‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏Ç‡πå/‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢/‡∏ú‡∏π‡πâ‡∏Å‡∏•‡πà‡∏≤‡∏ß‡∏´‡∏≤ |
| `victim_name` | üîÑ ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ | ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô UI ‡πÅ‡∏•‡πâ‡∏ß | ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠ backward compatibility |

---

## üîí ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

‚úÖ **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢:**
- ‡πÑ‡∏°‡πà‡∏•‡∏ö‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå `victim_name`
- ‡πÑ‡∏°‡πà‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏î ‡πÜ
- ‡πÅ‡∏Ñ‡πà sync ‡πÉ‡∏´‡πâ‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô

‚úÖ **Backward Compatibility:**
- API ‡∏¢‡∏±‡∏á‡∏™‡πà‡∏á `victim_name` ‡πÑ‡∏õ‡πÉ‡∏´‡πâ template
- ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ code ‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ `victim_name` ‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥

‚úÖ **‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ Rollback ‡πÑ‡∏î‡πâ:**
```bash
# Restore ‡∏à‡∏≤‡∏Å backup
docker cp backup_TIMESTAMP.dump criminal-case-db:/tmp/restore.dump
docker exec criminal-case-db pg_restore -U user -d criminal_case_db -c -F c /tmp/restore.dump
```

---

## üìù ‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö

‡∏à‡∏≤‡∏Å‡∏ô‡∏µ‡πâ‡πÑ‡∏õ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏û‡∏π‡∏î‡∏ñ‡∏∂‡∏á:
- **‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢** = `complainant`
- **‡∏ú‡∏π‡πâ‡∏Å‡∏•‡πà‡∏≤‡∏ß‡∏´‡∏≤** = `complainant`
- **‡∏ú‡∏π‡πâ‡∏£‡πâ‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏Ç‡πå** = `complainant`

**‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ñ‡∏∑‡∏≠‡∏ü‡∏¥‡∏•‡∏î‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô: `complainant`**

---

## üéØ ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á

1. ‚úÖ **‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏ö‡∏™‡∏ô:** ‡∏°‡∏µ‡∏ü‡∏¥‡∏•‡∏î‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢
2. ‚úÖ **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á:** ‡πÑ‡∏°‡πà‡∏°‡∏µ "‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Ñ‡∏î‡∏µ" ‡πÅ‡∏ó‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡∏≠‡∏µ‡∏Å‡∏ï‡πà‡∏≠‡πÑ‡∏õ
3. ‚úÖ **‡∏á‡πà‡∏≤‡∏¢‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤:** ‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏±‡πâ‡∏ô‡∏•‡∏á ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡πá‡∏Ñ‡∏´‡∏•‡∏≤‡∏¢‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç
4. ‚úÖ **‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô:** ‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ä‡πâ `complainant` ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å

---

## üîß ‡∏´‡∏≤‡∏Å‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ complainant ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
docker exec criminal-case-db psql -U user -d criminal_case_db -c "
SELECT id, case_number, complainant, victim_name 
FROM criminal_cases 
WHERE complainant IS NULL OR complainant = '' 
LIMIT 10;
"
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Backend ‡πÑ‡∏°‡πà restart

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```bash
# Force rebuild backend
docker-compose up -d --build --force-recreate backend
```

---

## üìû ‡∏™‡∏£‡∏∏‡∏õ

‚úÖ ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ô‡∏µ‡πâ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö:
- **‡∏°‡∏µ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô**: ‡πÉ‡∏ä‡πâ `complainant` ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å
- **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á**: ‡πÑ‡∏°‡πà‡∏°‡∏µ "‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Ñ‡∏î‡∏µ" ‡πÅ‡∏ó‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢
- **‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢**: ‡πÑ‡∏°‡πà‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏¥‡∏°
- **Backward Compatible**: ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏Å‡πà‡∏≤‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ

**Migration ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!** üéâ

---

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:
- Adminer: http://localhost:8080 (user/password123)
- pgAdmin: http://localhost:5050 (admin@example.com/admin)

