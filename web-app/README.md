# Criminal Case Management System - Web Application

à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸„à¸”à¸µà¸­à¸²à¸à¸²à¸­à¸­à¸™à¹„à¸¥à¸™à¹Œ à¹€à¸§à¸­à¸£à¹Œà¸Šà¸±à¸™ 3.1.1

## ğŸ“‹ à¸ªà¸²à¸£à¸šà¸±à¸

- [à¸ à¸²à¸à¸£à¸§à¸¡à¸£à¸°à¸šà¸š](#à¸ à¸²à¸à¸£à¸§à¸¡à¸£à¸°à¸šà¸š)
- [à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰](#à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰)
- [à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¹à¸¥à¸°à¹ƒà¸Šà¹‰à¸‡à¸²à¸™](#à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¹à¸¥à¸°à¹ƒà¸Šà¹‰à¸‡à¸²à¸™)
- [à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„](#à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„)
- [à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Docker](#à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™-docker)
- [à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²à¸•à¹ˆà¸­à¸¢à¸­à¸”](#à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²à¸•à¹ˆà¸­à¸¢à¸­à¸”)
- [à¸›à¸±à¸à¸«à¸²à¸—à¸µà¹ˆà¸à¸šà¸šà¹ˆà¸­à¸¢](#à¸›à¸±à¸à¸«à¸²à¸—à¸µà¹ˆà¸à¸šà¸šà¹ˆà¸­à¸¢)

---

## à¸ à¸²à¸à¸£à¸§à¸¡à¸£à¸°à¸šà¸š

à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸„à¸”à¸µà¸­à¸²à¸à¸²à¸—à¸²à¸‡à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µ à¸ªà¸³à¸«à¸£à¸±à¸š à¸à¸.1 à¸šà¸.à¸ªà¸­à¸—.4 à¸›à¸£à¸°à¸à¸­à¸šà¸”à¹‰à¸§à¸¢:

### à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸«à¸¥à¸±à¸
- **à¸ˆà¸±à¸”à¸à¸²à¸£à¸„à¸”à¸µà¸­à¸²à¸à¸²**: à¸šà¸±à¸™à¸—à¸¶à¸ à¹à¸à¹‰à¹„à¸‚ à¸„à¹‰à¸™à¸«à¸²à¸„à¸”à¸µ
- **à¸ˆà¸±à¸”à¸à¸²à¸£à¸œà¸¹à¹‰à¸•à¹‰à¸­à¸‡à¸«à¸²**: à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¸•à¹‰à¸­à¸‡à¸«à¸² à¸à¸´à¸¡à¸à¹Œà¸«à¸¡à¸²à¸¢à¹€à¸£à¸µà¸¢à¸à¸œà¸¹à¹‰à¸•à¹‰à¸­à¸‡à¸«à¸² à¹à¸¥à¸°à¸‹à¸­à¸‡à¸«à¸¡à¸²à¸¢à¹€à¸£à¸µà¸¢à¸
- **à¸ˆà¸±à¸”à¸à¸²à¸£à¸šà¸±à¸à¸Šà¸µà¸˜à¸™à¸²à¸„à¸²à¸£**: à¸šà¸±à¸™à¸—à¸¶à¸à¸šà¸±à¸à¸Šà¸µà¸—à¸µà¹ˆà¹€à¸à¸µà¹ˆà¸¢à¸§à¸‚à¹‰à¸­à¸‡ à¸à¸´à¸¡à¸à¹Œà¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸‚à¸­à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸˜à¸™à¸²à¸„à¸²à¸£
- **à¸­à¸­à¸à¹€à¸­à¸à¸ªà¸²à¸£**:
  - à¸«à¸¡à¸²à¸¢à¹€à¸£à¸µà¸¢à¸à¸œà¸¹à¹‰à¸•à¹‰à¸­à¸‡à¸«à¸² (HTML)
  - à¸‹à¸­à¸‡à¸«à¸¡à¸²à¸¢à¹€à¸£à¸µà¸¢à¸à¸œà¸¹à¹‰à¸•à¹‰à¸­à¸‡à¸«à¸² (HTML)
  - à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸‚à¸­à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸˜à¸™à¸²à¸„à¸²à¸£ (HTML)
- **à¸„à¹‰à¸™à¸«à¸²à¸‚à¹‰à¸­à¸¡à¸¹à¸¥**: à¸„à¹‰à¸™à¸«à¸²à¸•à¸²à¸¡à¸«à¸¡à¸²à¸¢à¹€à¸¥à¸‚à¸„à¸”à¸µ à¸Šà¸·à¹ˆà¸­à¸œà¸¹à¹‰à¸•à¹‰à¸­à¸‡à¸«à¸² à¸Šà¸·à¹ˆà¸­à¸œà¸¹à¹‰à¹€à¸ªà¸µà¸¢à¸«à¸²à¸¢
- **Parse PDF**: à¹à¸à¸°à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸²à¸à¹„à¸Ÿà¸¥à¹Œ à¸—à¸£.14 à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- **à¸„à¹‰à¸™à¸«à¸²à¸ªà¸–à¸²à¸™à¸µà¸•à¸³à¸£à¸§à¸ˆ**: à¸„à¹‰à¸™à¸«à¸²à¸ªà¸–à¸²à¸™à¸µà¸•à¸³à¸£à¸§à¸ˆà¸•à¸²à¸¡à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ

**à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸™à¸£à¸°à¸šà¸š (à¸“ 3 à¸•.à¸„. 2568):**
- 48 à¸„à¸”à¸µà¸­à¸²à¸à¸²
- 15 à¸œà¸¹à¹‰à¸•à¹‰à¸­à¸‡à¸«à¸²
- 418 à¸šà¸±à¸à¸Šà¸µà¸˜à¸™à¸²à¸„à¸²à¸£

---

## à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰

### Backend
- **FastAPI** - Python Web Framework
- **SQLAlchemy** - ORM
- **PostgreSQL** - Database
- **Redis** - Cache & Session
- **Uvicorn** - ASGI Server
- **PyPDF2** - PDF Parser

### Frontend
- **React 18** - UI Framework
- **TypeScript** - Type Safety
- **Vite** - Build Tool
- **Ant Design 5** - UI Components
- **Axios** - HTTP Client
- **React Router** - Navigation

### Infrastructure
- **Docker** - Containerization
- **Docker Compose** - Orchestration

---

## à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¹à¸¥à¸°à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

### âœ… à¸§à¸´à¸˜à¸µà¸—à¸µà¹ˆà¹à¸™à¸°à¸™à¸³: à¹ƒà¸Šà¹‰ Docker Compose

#### 1. à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Docker
- Windows: [Docker Desktop](https://www.docker.com/products/docker-desktop/)
- Linux: `sudo apt install docker.io docker-compose`

#### 2. à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

```bash
# à¹€à¸‚à¹‰à¸²à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¹‚à¸›à¸£à¹€à¸ˆà¸„
cd /mnt/c/SaveToExcel/web-app

# à¹€à¸£à¸´à¹ˆà¸¡à¸£à¸°à¸šà¸š
docker-compose up -d

# à¸£à¸­à¸›à¸£à¸°à¸¡à¸²à¸“ 30-60 à¸§à¸´à¸™à¸²à¸—à¸µ à¹€à¸à¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¸—à¸¸à¸ service à¸à¸£à¹‰à¸­à¸¡
```

#### 3. à¹€à¸‚à¹‰à¸²à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

- **Frontend**: http://localhost:3001
- **Backend API**: http://localhost:8000
- **API Documentation**: http://localhost:8000/docs

**à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š:**
- Username: `admin`
- Password: `admin123`

#### 4. à¸«à¸¢à¸¸à¸”à¸£à¸°à¸šà¸š

```bash
# à¸«à¸¢à¸¸à¸”à¸£à¸°à¸šà¸š (à¹€à¸à¹‡à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥)
docker-compose down

# à¸«à¸¢à¸¸à¸”à¹à¸¥à¸°à¸¥à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” (à¸£à¸°à¸§à¸±à¸‡!)
docker-compose down -v
```

---

## à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„

```
web-app/
â”œâ”€â”€ backend/                    # FastAPI Backend
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/v1/            # API Endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.py        # Authentication
â”‚   â”‚   â”‚   â”œâ”€â”€ criminal_cases.py
â”‚   â”‚   â”‚   â”œâ”€â”€ suspects_improved.py
â”‚   â”‚   â”‚   â”œâ”€â”€ bank_accounts_improved.py
â”‚   â”‚   â”‚   â”œâ”€â”€ documents.py   # Document generation
â”‚   â”‚   â”‚   â”œâ”€â”€ pdf_parser.py  # PDF parsing
â”‚   â”‚   â”‚   â””â”€â”€ police_stations.py
â”‚   â”‚   â”œâ”€â”€ models/            # Database Models (SQLAlchemy)
â”‚   â”‚   â”‚   â”œâ”€â”€ criminal_case.py
â”‚   â”‚   â”‚   â”œâ”€â”€ suspect.py
â”‚   â”‚   â”‚   â”œâ”€â”€ bank_account.py
â”‚   â”‚   â”‚   â””â”€â”€ user.py
â”‚   â”‚   â”œâ”€â”€ schemas/           # Pydantic Schemas
â”‚   â”‚   â”œâ”€â”€ services/          # Business Logic
â”‚   â”‚   â”‚   â”œâ”€â”€ bank_summons_generator.py
â”‚   â”‚   â”‚   â”œâ”€â”€ suspect_summons_generator.py
â”‚   â”‚   â”‚   â”œâ”€â”€ pdf_parser.py
â”‚   â”‚   â”‚   â””â”€â”€ police_station_service.py
â”‚   â”‚   â”œâ”€â”€ utils/             # Utilities
â”‚   â”‚   â”‚   â”œâ”€â”€ date_utils.py
â”‚   â”‚   â”‚   â”œâ”€â”€ thai_date_utils.py
â”‚   â”‚   â”‚   â””â”€â”€ string_utils.py
â”‚   â”‚   â””â”€â”€ main.py            # FastAPI App Entry Point
â”‚   â”œâ”€â”€ migrations/            # SQL Migration Scripts
â”‚   â”œâ”€â”€ requirements.txt       # Python Dependencies
â”‚   â””â”€â”€ Dockerfile            # Backend Docker Image
â”‚
â”œâ”€â”€ frontend/                  # React Frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/        # Reusable Components
â”‚   â”‚   â”‚   â”œâ”€â”€ BankAccountForm.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ SuspectForm.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PoliceStationSearchModal.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ pages/            # Page Components
â”‚   â”‚   â”‚   â”œâ”€â”€ DashboardPage.tsx          # à¸«à¸™à¹‰à¸²à¹à¸£à¸ (à¸•à¸²à¸£à¸²à¸‡)
â”‚   â”‚   â”‚   â”œâ”€â”€ CriminalCaseDetailPage.tsx # à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¸„à¸”à¸µ
â”‚   â”‚   â”‚   â”œâ”€â”€ AddCriminalCasePage.tsx    # à¹€à¸à¸´à¹ˆà¸¡à¸„à¸”à¸µà¹ƒà¸«à¸¡à¹ˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ EditCriminalCasePage.tsx   # à¹à¸à¹‰à¹„à¸‚à¸„à¸”à¸µ
â”‚   â”‚   â”‚   â””â”€â”€ LoginPage.tsx              # à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š
â”‚   â”‚   â”œâ”€â”€ contexts/         # React Contexts
â”‚   â”‚   â”‚   â””â”€â”€ ThemeContext.tsx           # Dark/Light Mode
â”‚   â”‚   â”œâ”€â”€ api.ts            # Axios Instance & API Config
â”‚   â”‚   â”œâ”€â”€ App.tsx           # Main App Component
â”‚   â”‚   â””â”€â”€ main.tsx          # Entry Point
â”‚   â”œâ”€â”€ package.json          # NPM Dependencies
â”‚   â”œâ”€â”€ vite.config.ts        # Vite Configuration
â”‚   â””â”€â”€ Dockerfile            # Frontend Docker Image
â”‚
â”œâ”€â”€ docker-compose.yml         # Docker Compose Configuration (Production)
â”œâ”€â”€ README.md                  # This file
â”œâ”€â”€ DEVELOPMENT_GUIDE.md       # Development Guide
â”œâ”€â”€ DOCKER_USAGE.md           # Docker Commands Reference
â””â”€â”€ BACKUP_RESTORE_GUIDE.md   # Backup/Restore Guide
```

---

## à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Docker

### âš ï¸ à¸ªà¸³à¸„à¸±à¸: Container à¹à¸¥à¸° Volume Names

à¸£à¸°à¸šà¸šà¹ƒà¸Šà¹‰ Docker Compose à¹à¸šà¸š **Production Single Environment**

**Container Names:**
- `criminal-case-db` - PostgreSQL Database
- `criminal-case-redis` - Redis Cache
- `criminal-case-backend` - FastAPI Backend
- `criminal-case-frontend` - React Frontend (Vite Dev Server)

**Volume Names:**
- `web-app_postgres_data` - Database storage
- `web-app_backend_uploads` - Uploaded files

**Database Credentials:**
- Host: `postgres` (inside Docker) / `localhost:5432` (outside Docker)
- Database: `criminal_case_db`
- Username: `user`
- Password: `password123`

### à¸„à¸³à¸ªà¸±à¹ˆà¸‡ Docker à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸šà¹ˆà¸­à¸¢

```bash
# à¸”à¸¹à¸ªà¸–à¸²à¸™à¸° containers
docker ps

# à¸”à¸¹ logs
docker logs criminal-case-backend -f
docker logs criminal-case-frontend -f
docker logs criminal-case-db

# à¸£à¸µà¸ªà¸•à¸²à¸£à¹Œà¸— service
docker-compose restart backend
docker-compose restart frontend
docker-compose restart postgres

# à¹€à¸‚à¹‰à¸² container
docker exec -it criminal-case-backend bash
docker exec -it criminal-case-frontend sh
docker exec -it criminal-case-db psql -U user -d criminal_case_db

# à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸™à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
docker exec criminal-case-db psql -U user -d criminal_case_db -c "SELECT COUNT(*) FROM criminal_cases;"
docker exec criminal-case-db psql -U user -d criminal_case_db -c "SELECT COUNT(*) FROM suspects;"
docker exec criminal-case-db psql -U user -d criminal_case_db -c "SELECT COUNT(*) FROM bank_accounts;"

# à¸”à¸¹ volumes
docker volume ls | grep web-app

# à¸”à¸¹ networks
docker network ls | grep web-app
```

### à¸à¸²à¸£ Backup à¹à¸¥à¸° Restore

```bash
# Backup database
TIMESTAMP=$(date +%Y%m%d_%H%M%S)
docker exec criminal-case-db pg_dump -U user -d criminal_case_db -F c -f /tmp/backup_${TIMESTAMP}.dump
docker cp criminal-case-db:/tmp/backup_${TIMESTAMP}.dump ./backup_${TIMESTAMP}.dump

# Restore database
docker cp backup_20251003_163753.dump criminal-case-db:/tmp/restore.dump
docker exec criminal-case-db pg_restore -U user -d criminal_case_db -c -F c /tmp/restore.dump

# Backup à¸—à¸±à¹‰à¸‡à¸£à¸°à¸šà¸š (database + code)
tar -czf web-app-backup-$(date +%Y%m%d_%H%M%S).tar.gz \
  --exclude='node_modules' \
  --exclude='__pycache__' \
  --exclude='.git' \
  .
```

### à¸à¸²à¸£ Rebuild Services

```bash
# Rebuild à¹€à¸‰à¸à¸²à¸° backend (à¹ƒà¸Šà¹‰à¹€à¸¡à¸·à¹ˆà¸­à¹à¸à¹‰ Python code à¸«à¸£à¸·à¸­ dependencies)
docker-compose up -d --build --no-cache backend

# Rebuild à¹€à¸‰à¸à¸²à¸° frontend (à¹ƒà¸Šà¹‰à¹€à¸¡à¸·à¹ˆà¸­à¹à¸à¹‰ package.json)
docker-compose up -d --build --no-cache frontend

# Rebuild à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
docker-compose down
docker-compose up -d --build --no-cache

# à¸¥à¸š images à¹€à¸à¹ˆà¸²à¹à¸¥à¸° rebuild
docker-compose down
docker system prune -a -f
docker-compose up -d --build
```

---

## à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²à¸•à¹ˆà¸­à¸¢à¸­à¸”

### à¸à¸²à¸£à¹à¸à¹‰à¹„à¸‚ Backend Code

1. à¹à¸à¹‰à¹„à¸‚à¹„à¸Ÿà¸¥à¹Œà¹ƒà¸™ `backend/app/`
2. Backend à¸ˆà¸° **Hot Reload à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´** (à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¸£à¸µà¸ªà¸•à¸²à¸£à¹Œà¸—)
3. à¸–à¹‰à¸² Hot Reload à¹„à¸¡à¹ˆà¸—à¸³à¸‡à¸²à¸™:
   ```bash
   docker-compose restart backend
   ```

### à¸à¸²à¸£à¹à¸à¹‰à¹„à¸‚ Frontend Code

1. à¹à¸à¹‰à¹„à¸‚à¹„à¸Ÿà¸¥à¹Œà¹ƒà¸™ `frontend/src/`
2. **Vite à¸ˆà¸° Hot Reload à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´** (à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¸£à¸µà¸ªà¸•à¸²à¸£à¹Œà¸—)
3. à¸–à¹‰à¸² Hot Reload à¹„à¸¡à¹ˆà¸—à¸³à¸‡à¸²à¸™:
   - à¸£à¸µà¹€à¸Ÿà¸£à¸Šà¹€à¸šà¸£à¸²à¸§à¹Œà¹€à¸‹à¸­à¸£à¹Œ (Ctrl+Shift+R à¸«à¸£à¸·à¸­ Cmd+Shift+R)
   - à¸«à¸£à¸·à¸­à¸£à¸µà¸ªà¸•à¸²à¸£à¹Œà¸— frontend:
     ```bash
     docker-compose restart frontend
     ```

### à¸à¸²à¸£à¹€à¸à¸´à¹ˆà¸¡ Python Package

1. à¹€à¸à¸´à¹ˆà¸¡à¹ƒà¸™ `backend/requirements.txt`:
   ```
   new-package==1.0.0
   ```
2. Rebuild backend:
   ```bash
   docker-compose up -d --build backend
   ```

### à¸à¸²à¸£à¹€à¸à¸´à¹ˆà¸¡ NPM Package

```bash
# à¸§à¸´à¸˜à¸µà¸—à¸µà¹ˆ 1: à¹€à¸‚à¹‰à¸² container
docker exec -it criminal-case-frontend sh
npm install <package-name>
exit

# à¸§à¸´à¸˜à¸µà¸—à¸µà¹ˆ 2: Rebuild
# à¹à¸à¹‰à¹„à¸‚ frontend/package.json à¸à¹ˆà¸­à¸™
docker-compose up -d --build frontend
```

### Database Migration

1. à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ migration à¹ƒà¸«à¸¡à¹ˆ:
   ```sql
   -- backend/migrations/009_add_new_field.sql
   ALTER TABLE criminal_cases ADD COLUMN new_field VARCHAR(255);
   ```

2. à¸£à¸±à¸™ migration:
   ```bash
   docker cp backend/migrations/009_add_new_field.sql criminal-case-db:/tmp/
   docker exec criminal-case-db psql -U user -d criminal_case_db -f /tmp/009_add_new_field.sql
   ```

### à¸à¸²à¸£à¹€à¸à¸´à¹ˆà¸¡à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¹ƒà¸«à¸¡à¹ˆ

#### 1. à¹€à¸à¸´à¹ˆà¸¡ Backend API Endpoint

```python
# backend/app/api/v1/new_feature.py
from fastapi import APIRouter, Depends
from sqlalchemy.orm import Session
from app.models.database import get_db

router = APIRouter()

@router.get("/new-feature")
async def get_new_feature(db: Session = Depends(get_db)):
    return {"message": "New feature"}
```

```python
# backend/app/main.py
from app.api.v1 import new_feature

app.include_router(new_feature.router, prefix="/api/v1", tags=["new-feature"])
```

#### 2. à¹€à¸à¸´à¹ˆà¸¡ Frontend Page

```typescript
// frontend/src/pages/NewFeaturePage.tsx
import React from 'react'
import { Card } from 'antd'

const NewFeaturePage: React.FC = () => {
  return (
    <Card title="New Feature">
      <p>Content here</p>
    </Card>
  )
}

export default NewFeaturePage
```

```typescript
// frontend/src/App.tsx
import NewFeaturePage from './pages/NewFeaturePage'

// à¹ƒà¸™ <Routes>
<Route path="/new-feature" element={<NewFeaturePage />} />
```

#### 3. à¹€à¸à¸´à¹ˆà¸¡ API Call

```typescript
// frontend/src/api.ts
export const getNewFeature = () => api.get('/api/v1/new-feature')
```

---

## à¸›à¸±à¸à¸«à¸²à¸—à¸µà¹ˆà¸à¸šà¸šà¹ˆà¸­à¸¢

### 1. Frontend à¹„à¸¡à¹ˆà¹€à¸Šà¸·à¹ˆà¸­à¸¡ Backend (ERR_CONNECTION_REFUSED)

**à¸ªà¸²à¹€à¸«à¸•à¸¸:** `vite.config.ts` proxy à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡

**à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š:**
```typescript
// frontend/vite.config.ts
export default defineConfig({
  server: {
    host: '0.0.0.0',
    port: 3001,
    proxy: {
      '/api': {
        target: 'http://backend:8000',  // âœ… à¸•à¹‰à¸­à¸‡à¹ƒà¸Šà¹‰ Docker service name
        changeOrigin: true,
      },
    },
  },
})
```

**à¹à¸à¹‰à¹„à¸‚:**
```bash
docker-compose restart frontend
```

### 2. à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸²à¸¢à¸«à¸¥à¸±à¸‡ Restart

**à¸ªà¸²à¹€à¸«à¸•à¸¸:** à¸¥à¸š volume à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸•à¸±à¹‰à¸‡à¹ƒà¸ˆ (`docker-compose down -v`)

**à¸§à¸´à¸˜à¸µà¸›à¹‰à¸­à¸‡à¸à¸±à¸™:**
- à¹ƒà¸Šà¹‰ `docker-compose down` à¹à¸—à¸™ `docker-compose down -v`
- à¸ªà¸³à¸£à¸­à¸‡ backup à¹€à¸›à¹‡à¸™à¸›à¸£à¸°à¸ˆà¸³

**à¹à¸à¹‰à¹„à¸‚:**
```bash
# Restore à¸ˆà¸²à¸ backup
docker cp backup_20251003_163753.dump criminal-case-db:/tmp/restore.dump
docker exec criminal-case-db pg_restore -U user -d criminal_case_db -c -F c /tmp/restore.dump
```

### 3. Port Already in Use

**Error:** `Bind for 0.0.0.0:3001 failed: port is already allocated`

**à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š:**
```bash
# Windows
netstat -ano | findstr :3001

# Linux/Mac
lsof -i :3001
```

**à¹à¸à¹‰à¹„à¸‚:**
- à¸›à¸´à¸” process à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰ port
- à¸«à¸£à¸·à¸­à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ port à¹ƒà¸™ `docker-compose.yml`:
  ```yaml
  frontend:
    ports:
      - "3002:3001"  # à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸ˆà¸²à¸ 3001 à¹€à¸›à¹‡à¸™ 3002
  ```

### 4. Database Connection Error

**Error:** `FATAL: password authentication failed for user "user"`

**à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š:**
```bash
docker exec criminal-case-db psql -U user -d criminal_case_db -c "SELECT 1;"
```

**à¹à¸à¹‰à¹„à¸‚:**
- Password à¸—à¸µà¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: `password123`
- à¸–à¹‰à¸²à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹„à¸”à¹‰ à¹ƒà¸«à¹‰à¸¥à¸š volume à¹à¸¥à¸°à¸ªà¸£à¹‰à¸²à¸‡à¹ƒà¸«à¸¡à¹ˆ:
  ```bash
  docker-compose down -v
  docker-compose up -d
  ```

### 5. Frontend Shows Blank Page

**à¸ªà¸²à¹€à¸«à¸•à¸¸:** JavaScript error à¸«à¸£à¸·à¸­ routing à¸œà¸´à¸”

**à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š:**
```bash
# à¸”à¸¹ logs
docker logs criminal-case-frontend -f

# à¸”à¸¹ browser console (F12)
```

**à¹à¸à¹‰à¹„à¸‚:**
```bash
# Hard refresh browser
Ctrl+Shift+R  # Windows/Linux
Cmd+Shift+R   # Mac

# à¸¥à¹‰à¸²à¸‡ cache
docker exec -it criminal-case-frontend sh
rm -rf node_modules/.vite
exit
docker-compose restart frontend
```

### 6. Hot Reload à¹„à¸¡à¹ˆà¸—à¸³à¸‡à¸²à¸™

**Backend:**
```bash
# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸² uvicorn à¸¡à¸µ --reload flag
docker exec criminal-case-backend ps aux | grep uvicorn
```

**Frontend:**
```bash
# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸² Vite running
docker logs criminal-case-frontend | grep "ready"
```

**à¹à¸à¹‰à¹„à¸‚:**
```bash
docker-compose restart backend
docker-compose restart frontend
```

### 7. à¹€à¸¥à¸‚à¸—à¸µà¹ˆà¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¹à¸ªà¸”à¸‡à¹€à¸›à¹‡à¸™ NaN

**à¸ªà¸²à¹€à¸«à¸•à¸¸:** à¸¡à¸µà¸à¸²à¸£à¹ƒà¸Šà¹‰ `parseInt()` à¸à¸±à¸š document_number à¸—à¸µà¹ˆà¹€à¸›à¹‡à¸™ string

**à¹à¸à¹‰à¹„à¸‚:** à¸¥à¸š `parseInt()` à¸­à¸­à¸ à¹ƒà¸Šà¹‰à¹à¸„à¹ˆ `value || '-'`

à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸²à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸™à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸›à¹‡à¸™à¸£à¸¹à¸›à¹à¸šà¸š "à¸•à¸Š.0039.52/xxxx"

---

## ğŸ“ à¹€à¸­à¸à¸ªà¸²à¸£à¹€à¸à¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡

- `DEVELOPMENT_GUIDE.md` - à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸ªà¸³à¸«à¸£à¸±à¸šà¸™à¸±à¸à¸à¸±à¸’à¸™à¸²
- `DOCKER_USAGE.md` - à¸„à¸³à¸ªà¸±à¹ˆà¸‡ Docker à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸šà¹ˆà¸­à¸¢
- `BACKUP_RESTORE_GUIDE.md` - à¸§à¸´à¸˜à¸µ Backup/Restore à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
- `CHANGELOG.md` - à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡

---

## ğŸ”’ à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢

**âš ï¸ à¸ªà¸³à¸„à¸±à¸à¸ªà¸³à¸«à¸£à¸±à¸š Production:**
1. à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ database password à¹ƒà¸™ `docker-compose.yml`
2. à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ admin password à¹ƒà¸™à¸£à¸°à¸šà¸š
3. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² CORS à¹ƒà¸«à¹‰à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡
4. à¹ƒà¸Šà¹‰ HTTPS
5. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² SECRET_KEY à¹ƒà¸«à¸¡à¹ˆ
6. à¸ªà¸³à¸£à¸­à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸›à¹‡à¸™à¸›à¸£à¸°à¸ˆà¸³

---

## ğŸ“ à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹‚à¸›à¸£à¹€à¸ˆà¸„

- **à¸à¸±à¸’à¸™à¸²à¹‚à¸”à¸¢**: à¸à¸.1 à¸šà¸.à¸ªà¸­à¸—.4
- **Version**: 3.1.1
- **Last Updated**: 3 à¸•à¸¸à¸¥à¸²à¸„à¸¡ 2568
- **Database Backup**: `backup_20251003_163753.dump` (76 KB)

**à¸ªà¸–à¸´à¸•à¸´à¹‚à¸„à¹‰à¸”:**
- Backend: Python (FastAPI)
- Frontend: TypeScript + React
- Database: PostgreSQL
- Total Lines of Code: ~15,000 lines

---

## ğŸ“„ License

Internal Use Only - à¸ªà¸³à¸«à¸£à¸±à¸šà¹ƒà¸Šà¹‰à¸ à¸²à¸¢à¹ƒà¸™à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™
