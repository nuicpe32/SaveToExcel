# Release Notes v3.3.0 - CFR Upload System

**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:** 11 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568  
**Commit:** b79797e  
**Branch:** main

---

## üéâ ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏°‡πà‡∏´‡∏•‡∏±‡∏Å

### **1. ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• CFR (Central Fraud Registry)**

‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏à‡∏≤‡∏Å CFR System ‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£

#### **Features:**
- ‚úÖ ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå Excel (.xlsx) ‡∏à‡∏≤‡∏Å CFR
- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á ‡πÅ‡∏¢‡∏Å 1 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ï‡πà‡∏≠ 1 bank_case_id
- ‚úÖ ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÇ‡∏≠‡∏ô (‡πÄ‡∏Å‡πà‡∏≤ ‚Üí ‡πÉ‡∏´‡∏°‡πà)
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå‡∏ï‡πà‡∏≠ 1 ‡∏Ñ‡∏î‡∏µ
- ‚úÖ ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå‡∏ã‡πâ‡∏≥ ‚Üí ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏¥‡∏° + ‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà
- ‚úÖ ‡∏•‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ
- ‚úÖ ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÄ‡∏•‡∏Ç 0 ‡∏´‡∏ô‡πâ‡∏≤ (‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ç‡∏ä‡∏µ, ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£, ‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô)

#### **Smart Detection:**
- üü¢ **‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢** (Tag ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß)
  - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î 6 ‡∏ß‡∏¥‡∏ò‡∏µ
  - ‡∏•‡∏ö‡∏Ñ‡∏≥‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏ô‡∏≤‡∏¢, ‡∏ô‡∏≤‡∏á, ‡∏ô.‡∏™., Mr., Mrs.)
  - ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
  
- üü£ **‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ** (Tag ‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á)
  - ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£
  - ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: "‚úì ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡πâ‡∏ß" ‡∏´‡∏£‡∏∑‡∏≠ "‚úó ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö (‡∏™‡πà‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß X ‡∏ß‡∏±‡∏ô)"

#### **Transaction Details:**
- üìä ‡πÅ‡∏™‡∏î‡∏á 4 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå:
  1. ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á (bank, account, name)
  2. ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á (bank, account, name) [‡∏Ñ‡∏•‡∏¥‡∏Å‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î]
  3. ‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÇ‡∏≠‡∏ô
  4. ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡πÇ‡∏≠‡∏ô

- üîç Modal ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á (13 ‡∏ü‡∏¥‡∏•‡∏î‡πå):
  - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ç‡∏ä‡∏µ, ‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô, ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£
  - PromptPay (type, id)
  - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ö‡∏±‡∏ç‡∏ä‡∏µ, ‡∏ß‡∏±‡∏ô‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î, ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠

---

### **2. ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô**

‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÅ‡∏ö‡∏ö 3 ‡∏£‡∏∞‡∏î‡∏±‡∏ö ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå

#### **Organization Structure:**
- üìä **Bureau (‡∏ö‡∏ä.)** - 1 ‡∏´‡∏ô‡πà‡∏ß‡∏¢
- üìä **Division (‡∏ö‡∏Å.)** - 7 ‡∏´‡∏ô‡πà‡∏ß‡∏¢
- üìä **Supervision (‡∏Å‡∏Å.)** - 20 ‡∏´‡∏ô‡πà‡∏ß‡∏¢

#### **Admin Features:**
- ‚úÖ ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô (‡πÄ‡∏°‡∏ô‡∏π: ‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏• ‚Üí ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô)
- ‚úÖ ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô (toggle switch)
- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏´‡∏ô‡πà‡∏ß‡∏¢
- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö hierarchical

#### **Access Control:**
- üîí User ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏õ‡∏¥‡∏î ‚Üí Login ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ
- üîí ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°: "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö"
- ‚úÖ Admin ‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö (‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠)

---

### **3. Master Data Tables**

‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏≤‡∏£‡∏≤‡∏á Master Data ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï

#### **NonBank (4 ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó):**
- Omise, GB Prime Pay, 2C2P, TrueMoney

#### **Telco Mobile (3 ‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£):**
- AIS, True, NT Broadband (dtac)

#### **Telco Internet (4 ‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£):**
- TRUE Online, AIS Fibre, 3BB, NT Broadband

#### **Exchange (7 ‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°):**
- Bitkub, Zipmex, Satang Pro, Bitazza, Upbit, Orbix, TDX

---

### **4. ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á Banks**

#### **‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏¥‡∏•‡∏î‡πå‡πÉ‡∏´‡∏°‡πà:**
- ‚úÖ `bank_code` - ‡∏£‡∏´‡∏±‡∏™‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£ 3 ‡∏´‡∏•‡∏±‡∏Å (‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏Ñ‡∏£‡∏ö 13 ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£)
- ‚úÖ `bank_short_name` - ‡∏ä‡∏∑‡πà‡∏≠‡∏¢‡πà‡∏≠‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© (BBL, KBANK, SCB, etc.)

#### **‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï (13 ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£):**
```
002 - BBL    | ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û
004 - KBANK  | ‡∏Å‡∏™‡∏¥‡∏Å‡∏£‡πÑ‡∏ó‡∏¢
008 - KTB    | ‡∏Å‡∏£‡∏∏‡∏á‡πÑ‡∏ó‡∏¢
011 - TTB    | ‡∏ó‡∏´‡∏≤‡∏£‡πÑ‡∏ó‡∏¢‡∏ò‡∏ô‡∏ä‡∏≤‡∏ï
014 - SCB    | ‡πÑ‡∏ó‡∏¢‡∏û‡∏≤‡∏ì‡∏¥‡∏ä‡∏¢‡πå
022 - CIMBT  | ‡∏ã‡∏µ‡πÑ‡∏≠‡πÄ‡∏≠‡πá‡∏°‡∏ö‡∏µ‡πÑ‡∏ó‡∏¢
024 - UOBT   | ‡∏¢‡∏π‡πÇ‡∏≠‡∏ö‡∏µ
025 - BAY    | ‡∏Å‡∏£‡∏∏‡∏á‡∏®‡∏£‡∏µ‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤
026 - KKP    | ‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ô‡∏≤‡∏Ñ‡∏¥‡∏ô‡∏†‡∏±‡∏ó‡∏£
030 - GSB    | ‡∏≠‡∏≠‡∏°‡∏™‡∏¥‡∏ô
033 - GHB    | ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏™‡∏á‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå
034 - BAAC   | ‡∏ò.‡∏Å.‡∏™.
073 - LH     | ‡πÅ‡∏•‡∏ô‡∏î‡πå‡πÅ‡∏≠‡∏ô‡∏î‡πå‡πÄ‡∏Æ‡πâ‡∏≤‡∏™‡πå
```

---

## üìä Database Changes

### **‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà:**
1. **cfr** - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Central Fraud Registry (30 columns)
2. **bureaus** - ‡∏Å‡∏≠‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏Å‡∏≤‡∏£
3. **divisions** - ‡∏Å‡∏≠‡∏á‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏Å‡∏≤‡∏£
4. **supervisions** - ‡∏Å‡∏≠‡∏á‡∏Å‡∏≥‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£
5. **non_banks** - ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó NonBank
6. **telco_mobile** - ‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠
7. **telco_internet** - ‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï
8. **exchanges** - ‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≤‡∏¢‡∏Ñ‡∏£‡∏¥‡∏õ‡πÇ‡∏ï

### **Migrations:**
```
013_create_non_banks_table.sql
014_create_telco_mobile_table.sql
015_create_telco_internet_table.sql
016_create_exchanges_table.sql
017_create_organization_structure.sql
018_create_cfr_table.sql
019_add_bank_code_column.sql
020_add_bank_short_name.sql
```

---

## üîß Technical Improvements

### **Backend:**
- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° CFR upload endpoint (`/api/v1/cfr/*`)
- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° Organization management endpoints (`/api/v1/organizations/*`)
- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° Master Data endpoints (NonBank, Telco, Exchange)
- ‚úÖ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Auth middleware (‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô)
- ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô Excel ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÄ‡∏•‡∏Ç 0 ‡∏´‡∏ô‡πâ‡∏≤

### **Frontend:**
- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° Tab CFR ‡πÉ‡∏ô DashboardPage modal (‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà 2)
- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏ô‡πâ‡∏≤ OrganizationManagementPage
- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π "‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•" (Admin only)
- ‚úÖ ‡πÄ‡∏õ‡∏¥‡∏î Vite polling ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Docker on Windows
- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á Tags (‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢, ‡∏™‡πà‡∏á‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÅ‡∏•‡πâ‡∏ß)

---

## üìù API Endpoints ‡πÉ‡∏´‡∏°‡πà

### **CFR Management:**
```
POST   /api/v1/cfr/upload/{case_id}
GET    /api/v1/cfr/{case_id}/files
GET    /api/v1/cfr/{case_id}/records
DELETE /api/v1/cfr/{case_id}/file/{filename}
```

### **Organization Management:**
```
GET /api/v1/organizations/tree
GET /api/v1/organizations/bureaus
PUT /api/v1/organizations/bureaus/{id}
GET /api/v1/organizations/divisions
PUT /api/v1/organizations/divisions/{id}
GET /api/v1/organizations/supervisions
PUT /api/v1/organizations/supervisions/{id}
```

### **Master Data:**
```
GET /api/v1/non-banks
GET /api/v1/telco-mobile
GET /api/v1/telco-internet
GET /api/v1/exchanges
```

---

## üêõ Bug Fixes

### **1. Leading Zero Loss**
- ‚ùå **‡∏Å‡πà‡∏≠‡∏ô:** ‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ç‡∏ä‡∏µ `052180327737` ‚Üí ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô `52180327737`
- ‚úÖ **‡∏´‡∏•‡∏±‡∏á:** ‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ç‡∏ä‡∏µ `052180327737` ‚Üí ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô `052180327737`

### **2. Organization Access Control**
- ‚ùå **‡∏Å‡πà‡∏≠‡∏ô:** Admin ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á ‚Üí ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ
- ‚úÖ **‡∏´‡∏•‡∏±‡∏á:** Admin ‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö ‚Üí ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠

---

## üìÅ ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á

### **‡∏™‡∏£‡∏∏‡∏õ:**
- **51 ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á**
- **+6,452 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î**
- **-13 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î**

### **Backend (29 ‡πÑ‡∏ü‡∏•‡πå):**
- 8 Models ‡πÉ‡∏´‡∏°‡πà
- 5 Schemas ‡πÉ‡∏´‡∏°‡πà
- 6 API endpoints ‡πÉ‡∏´‡∏°‡πà
- 8 Migrations ‡πÉ‡∏´‡∏°‡πà
- 2 ‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç (auth, __init__)

### **Frontend (4 ‡πÑ‡∏ü‡∏•‡πå):**
- 1 Page ‡πÉ‡∏´‡∏°‡πà (OrganizationManagementPage)
- 3 ‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç (App, MainLayout, DashboardPage)
- 1 Config ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç (vite.config.ts - enable polling)

### **Documentation (9 ‡πÑ‡∏ü‡∏•‡πå):**
- CFR features documentation
- Organization management guide
- Bank code/short name updates

---

## üéØ ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### **1. ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• CFR:**
```
Dashboard ‚Üí ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ñ‡∏î‡∏µ ‚Üí Tab "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• CFR" ‚Üí ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå
```

### **2. ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô (Admin):**
```
‡πÄ‡∏°‡∏ô‡∏π: ‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏• ‚Üí ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô
```

### **3. ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Master Data:**
```
API: /api/v1/non-banks, /api/v1/telco-mobile, etc.
```

---

## üìä Database Schema

### **‡∏ï‡∏≤‡∏£‡∏≤‡∏á CFR (30 columns):**
```sql
CREATE TABLE cfr (
    id SERIAL PRIMARY KEY,
    criminal_case_id INTEGER REFERENCES criminal_cases(id),
    filename VARCHAR(255),
    
    -- From/To Account info
    from_bank_code, from_account_no, from_account_name,
    to_bank_code, to_account_no, to_account_name,
    
    -- Transfer info
    transfer_date, transfer_time, transfer_amount,
    
    -- PromptPay, ID, Phone
    to_id, phone_number, promptpay_id,
    
    -- ‡πÅ‡∏•‡∏∞‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏£‡∏ß‡∏° 30 columns
);
```

### **Indexes:**
- `criminal_case_id`, `filename` (composite)
- `from_account_no`, `to_account_no`
- `transfer_date`, `bank_case_id`

---

## ‚ö†Ô∏è Breaking Changes

**‡πÑ‡∏°‡πà‡∏°‡∏µ** - ‡∏ó‡∏∏‡∏Å‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥

---

## üîÑ Migration Required

### **‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏î‡∏¥‡∏°:**

1. **Pull code ‡πÉ‡∏´‡∏°‡πà:**
   ```bash
   git pull origin main
   ```

2. **Restart containers:**
   ```bash
   cd web-app
   docker-compose restart backend frontend
   ```

3. **Database migrations ‡∏à‡∏∞‡∏£‡∏±‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥** (013-020)

4. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö:**
   ```
   - Login ‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥
   - ‡πÄ‡∏°‡∏ô‡∏π "‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•" ‡∏õ‡∏£‡∏≤‡∏Å‡∏è (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Admin)
   - Tab "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• CFR" ‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ñ‡∏î‡∏µ
   ```

---

## üß™ Testing

### **‡∏ó‡∏î‡∏™‡∏≠‡∏ö CFR:**
1. ‡πÄ‡∏Ç‡πâ‡∏≤ Dashboard
2. ‡∏Ñ‡∏•‡∏¥‡∏Å "‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ñ‡∏î‡∏µ"
3. ‡∏Ñ‡∏•‡∏¥‡∏Å Tab "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• CFR" (‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà 2)
4. ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå: `C:\SaveToExcel\Xlsx\cfr_25680923KBNK00407.xlsx`
5. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:
   - ‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏°‡∏µ‡πÄ‡∏•‡∏Ç 0 ‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏£‡∏ö
   - ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà
   - ‡πÅ‡∏™‡∏î‡∏á Tag "‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢" ‡πÅ‡∏•‡∏∞ "‡∏™‡πà‡∏á‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÅ‡∏•‡πâ‡∏ß"

### **‡∏ó‡∏î‡∏™‡∏≠‡∏ö Organization:**
1. Login ‡πÄ‡∏õ‡πá‡∏ô Admin
2. ‡πÄ‡∏°‡∏ô‡∏π: "‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•" ‚Üí "‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô"
3. ‡∏•‡∏≠‡∏á toggle ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô
4. Logout/Login ‡∏î‡πâ‡∏ß‡∏¢ user ‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤ ‚Üí ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå

---

## üìà Performance

### **CFR Upload:**
- 100 rows: ~1-2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
- 1,000 rows: ~3-5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
- 10,000 rows: ~30-50 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ

### **Data Display:**
- ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• 1,000 records: < 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
- Group by bank_case_id: ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- Smart detection: real-time

---

## üéì Documentation

### **‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà:**
- `CFR_UPLOAD_FEATURE.md` - ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå CFR
- `CFR_UPLOAD_QUICK_START.md` - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
- `CFR_DATA_DISPLAY_FEATURE.md` - ‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- `CFR_VICTIM_DETECTION_FEATURE.md` - ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢
- `CFR_SUMMONS_DETECTION_FEATURE.md` - ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏Å
- `CFR_LEADING_ZERO_FIX.md` - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏•‡∏Ç 0 ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏≤‡∏¢
- `ORGANIZATION_ACCESS_CONTROL_GUIDE.md` - ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå
- `BANK_CODE_UPDATE_SUMMARY.md` - ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï bank_code
- `BANK_SHORT_NAME_UPDATE_SUMMARY.md` - ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï bank_short_name

---

## üöÄ Next Steps

### **‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ï‡πà‡∏≠:**
1. ‚ú® Visualize ‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏õ‡πá‡∏ô Network Graph
2. ‚ú® ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏´‡∏≤‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏Å‡∏•‡∏≤‡∏á (Hub Detection)
3. ‚ú® Export ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• CFR ‡πÄ‡∏õ‡πá‡∏ô Excel/PDF
4. ‚ú® ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• CFR ‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á
5. ‚ú® ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏û‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ã‡πâ‡∏≥‡πÉ‡∏ô‡∏Ñ‡∏î‡∏µ‡∏≠‡∏∑‡πà‡∏ô
6. ‚ú® ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏Å NonBank, Telco, Exchange

---

## ‚úÖ Summary

**Version 3.3.0 ‡πÄ‡∏õ‡πá‡∏ô Major Update ‡∏ó‡∏µ‡πà‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!**

- ‚úÖ 51 ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á
- ‚úÖ 8 Database tables ‡πÉ‡∏´‡∏°‡πà
- ‚úÖ 20+ API endpoints ‡πÉ‡∏´‡∏°‡πà
- ‚úÖ 2 ‡∏´‡∏ô‡πâ‡∏≤ UI ‡πÉ‡∏´‡∏°‡πà
- ‚úÖ 8 Smart features
- ‚úÖ ‡πÑ‡∏°‡πà‡∏°‡∏µ Breaking changes
- ‚úÖ Documentation ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô

**‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß!** üéâ

---

## üë• Credits

**Developed by:** AI Assistant (Claude)  
**Requested by:** User (nuicpe32)  
**Date:** 11 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568  
**Commit:** b79797e

---

## üìû Support

**‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏™‡∏á‡∏™‡∏±‡∏¢:**
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Documentation
- ‡∏î‡∏π Backend/Frontend logs
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Database schema

**Happy Coding!** üöÄ

